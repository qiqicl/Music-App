import{x as a,o as s,c as l,w as t,a as e,b as n,d as o,e as u,F as r,i,t as c,f as d,r as m,l as _,j as v,B as f,p,n as y}from"./index-BbQdVrZ7.js";import{r as g,_ as k,o as C}from"./uni-app.es.BYlyzYre.js";import{p as b}from"./playList.DbKke_ra.js";import{d as L,e as h}from"./index.D4_Ldurm.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=x({__name:"Comment",props:["comment","isComment"],emits:["offComment"],setup(m,{emit:_}){const v=m,f=_,p=()=>{f("offComment")};return(m,_)=>{const f=i,y=d,C=g(a("uni-icons"),k);return s(),l(f,{class:"box"},{default:t((()=>[e(f,{class:"off",onClick:p}),e(f,{class:"comment"},{default:t((()=>[e(f,{class:"comment_top"},{default:t((()=>[n("最新评论")])),_:1}),(s(!0),o(r,null,u(v.comment.comments,((a,o)=>(s(),l(f,{class:"comment_item",key:a.id,onClick:a=>m.goPlayer(o)},{default:t((()=>[e(f,{class:"comment_item_img"},{default:t((()=>[e(y,{src:a.user.avatarUrl,mode:""},null,8,["src"])])),_:2},1024),e(f,{class:"comment_item_content"},{default:t((()=>[e(f,{class:"userName"},{default:t((()=>[n(c(a.user.nickname),1)])),_:2},1024),e(f,{class:"userComment"},{default:t((()=>[n(c(a.content),1)])),_:2},1024)])),_:2},1024),e(C,{type:"right",size:"20"})])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-88d3ccb3"]]),w=x({__name:"songlist",setup(x){const w=b(),z=m([]),I=m(!1),U=m(),N=m({});C((a=>{U.value=a.id;const s=async()=>(await L(U.value)).data;(async()=>{await v(),z.value=await s()})();const l=async()=>(await h(U.value)).data;(async()=>{await v(),N.value=await l()})()}));const A=a=>{let s=[];return a.forEach((a=>{s.push(a.name)})),s.join(" / ")};return(m,v)=>{var C;const b=d,L=i,h=p,x=g(a("uni-icons"),k);return s(),o(r,null,[e(L,{class:"songList"},{default:t((()=>{var a;return[e(L,{class:"songList_top",style:f({backgroundImage:`url(${null==(a=z.value.playlist)?void 0:a.coverImgUrl})`})},{default:t((()=>[e(L,{class:"songList_top_box"},{default:t((()=>[e(L,{class:"songList_top_info"},{default:t((()=>[e(L,{class:"songList_top_info_img"},{default:t((()=>{var a;return[e(b,{src:null==(a=z.value.playlist)?void 0:a.coverImgUrl,mode:""},null,8,["src"])]})),_:1}),e(L,{class:"songList_top_info_right"},{default:t((()=>[e(L,{class:"songList_name"},{default:t((()=>{var a;return[n(c(null==(a=z.value.playlist)?void 0:a.name),1)]})),_:1}),e(L,{class:"songlist_creator"},{default:t((()=>{var a;return[e(b,{src:null==(a=z.value.playlist)?void 0:a.creator.avatarUrl,mode:""},null,8,["src"]),e(h,null,{default:t((()=>{var a;return[n(c(null==(a=z.value.playlist)?void 0:a.creator.nickname),1)]})),_:1})]})),_:1})])),_:1})])),_:1}),e(L,{class:"description"},{default:t((()=>{var a;return[n(c(null==(a=z.value.playlist)?void 0:a.description),1)]})),_:1}),e(L,{class:"btns"},{default:t((()=>[e(L,{class:"btn"},{default:t((()=>{var a;return[e(x,{type:"undo-filled",size:"25"}),n(c(null==(a=z.value.playlist)?void 0:a.shareCount),1)]})),_:1}),e(L,{class:"btn",onClick:v[0]||(v[0]=a=>I.value=!0)},{default:t((()=>{var a;return[e(x,{type:"chat-filled",size:"25"}),n(c(null==(a=z.value.playlist)?void 0:a.commentCount),1)]})),_:1}),e(L,{class:"btn"},{default:t((()=>{var a;return[e(x,{type:"folder-add-filled",size:"25"}),n(c(null==(a=z.value.playlist)?void 0:a.subscribedCount),1)]})),_:1})])),_:1})])),_:1})])),_:1},8,["style"]),e(L,{class:"list"},{default:t((()=>{var a;return[e(L,{class:"songList_all"},{default:t((()=>{var a;return[e(x,{type:"checkbox",size:"25"}),n(" 播放全部( "+c(null==(a=z.value.playlist)?void 0:a.tracks.length)+" )",1)]})),_:1}),(s(!0),o(r,null,u(null==(a=z.value.playlist)?void 0:a.tracks,((a,o)=>(s(),l(L,{class:"songList_item",key:a.id,onClick:a=>(a=>{y({url:"/pages/player/player"}),w.playList=z.value.playlist.tracks,w.playIndex=a})(o)},{default:t((()=>[e(L,{class:"songList_item_count"},{default:t((()=>[n(c(o+1),1)])),_:2},1024),e(L,{class:"songList_item_content"},{default:t((()=>[e(L,{class:"songName"},{default:t((()=>[n(c(a.name),1)])),_:2},1024),e(L,{class:"songAr"},{default:t((()=>[n(c(A(a.ar)),1)])),_:2},1024)])),_:2},1024),e(x,{type:"right",size:"20"})])),_:2},1032,["onClick"])))),128))]})),_:1})]})),_:1}),I.value&&(null==(C=N.value.comments)?void 0:C.length)>0?(s(),l(j,{key:0,comment:N.value,onOffComment:v[1]||(v[1]=a=>I.value=!1)},null,8,["comment"])):_("",!0)],64)}}},[["__scopeId","data-v-5e4be7e2"]]);export{w as default};
