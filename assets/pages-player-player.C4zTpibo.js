import{r as a,k as e,U as l,V as A,W as s,c as t,w as u,m as o,i as r,o as n,a as g,B as d,u as c,b as i,t as v,f as p,X as m}from"./index-B7mrdbYj.js";import{p as C}from"./playList.DkXdr9TN.js";import{_ as I}from"./plugin-vueexport-helper.BCo6x5W8.js";const y=I({__name:"player",setup(I){var y;const B=a(),E=a(!0),U=a(0),V=a(decodeURIComponent(e("key"))),f=C(),R=()=>{E.value=!E.value},Q=a(),h=a(),O=a(0),k=a(0),w=l((()=>parseInt(k.value/60)+":"+(k.value%60>=10?k.value%60:"0"+k.value%60)));A(E,(()=>{E.value?(h.value=setInterval((()=>{k.value++,O.value=100/Q.value*k.value}),1e3),f.playFun()):(clearInterval(h.value),f.pauseFun())})),A(k,(()=>{f.currentTime=k.value,k.value===parseInt(Q.value)&&(clearInterval(h.value),k.value=0,h.value=setInterval((()=>{k.value++,O.value=100/Q.value*k.value}),1e3))}));const Y=a=>{f.currentTime=Math.ceil(parseInt(Q.value)*a.detail.value/100),k.value=f.currentTime,console.log(f.currentTime),f.currentChange()};console.log(f.playItem),console.log(f.playIndex),console.log(f.playSongs);const S=a({backgroundImage:`url(${(null==(y=f.playItem.al)?void 0:y.picUrl)||f.playItem.album.artist.img1v1Url})`});s({title:f.playItem.name,success:()=>{console.log("标题设置成功")}});return o({url:`https://zyxcl.xyz/music/api/song/url/v1?id=${f.playItem.id}&level=standard&cookie=${V}`,success:a=>{console.log(a.data),B.value=a.data.data[0].url,Q.value=a.data.data[0].time/1e3,U.value=parseInt(a.data.data[0].time/1e3/60)+":"+((a.data.data[0].time/1e3%60).toString().split(".")[0]>=10?(a.data.data[0].time/1e3%60).toString().split(".")[0]:"0"+(a.data.data[0].time/1e3%60).toString().split(".")[0]),console.log(B.value),h.value=setInterval((()=>{k.value++,O.value=100/Q.value*k.value}),1e3),f.playUrl!==B.value&&(f.playUrl=B.value,f.destroyMusic(),f.playMusic(),f.add()),console.log(f.playUrl,B.value)}}),(a,e)=>{const l=r,A=p,s=m;return n(),t(l,{class:"player"},{default:u((()=>[g(l,{class:"section",style:d(S.value)},null,8,["style"]),g(l,{class:"disc"},{default:u((()=>[g(l,{class:"song"},{default:u((()=>[g(l,{class:"pole"},{default:u((()=>[g(A,{src:"/Music-App/assets/needle-ab-63009d3f-rkdmo8lr.png",mode:""})])),_:1}),g(l,{class:"vinyl"},{default:u((()=>[g(A,{src:"/Music-App/assets/disc-23c9ad09-BpXxhfCl.png",mode:""}),g(l,{class:"songImg"},{default:u((()=>{var a;return[g(A,{src:(null==(a=c(f).playItem.al)?void 0:a.picUrl)||c(f).playItem.album.artist.img1v1Url,mode:""},null,8,["src"])]})),_:1})])),_:1})])),_:1})])),_:1}),g(l,null,{default:u((()=>[g(l,{class:"range"},{default:u((()=>[i(v(w.value)+" ",1),g(s,{value:O.value,onChange:Y,activeColor:"#FFCC33",backgroundColor:"#000000","block-color":"#8A6DE9","block-size":"20"},null,8,["value"]),i(" "+v(U.value),1)])),_:1}),g(l,{class:"audio"},{default:u((()=>[g(l,null,{default:u((()=>[g(A,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABAUlEQVR4nMWROxKCUAxFEWYYCluwp3cr9roJXZVuwgW4GhbA16SIExjF90nCqQjVueftko0xESiKoh6Goeq67gXnDHWBLMvO4zhe0jR9gMQdfs1QE8DVbdtep2mq4UxMBWg1fH4wEViu5qgLfFvNURNYW81REfi3miMq4LqaIybgs5oTLRCymhMlELqaEyQQu5rjLSCxmuMsILma4yyQ5/mx7/sbCFRwiuEsgJRluW+aBp/gBKcIXgKEZI0gAUSqRrAAEVsjWgCJqSEiQITUEBVAfGuICxCuNdQEEJcaqgLEWg0TAeRXDTMBYlnDXADhNTYRILAGSBygyBPOGSYCa7wB+6ItMJCsntwAAAAASUVORK5CYII=",mode:""})])),_:1}),g(l,{onClick:R},{default:u((()=>[E.value?(n(),t(A,{key:0,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABCklEQVR4nO3WwVGEMACF4ZcK3A6MFYgViBXIdqCVGCrRDsAOoAKxArED7WB/htldyJAse+KSf+YbTsA75BCjjUsDLg14hJXUS2pxTaveNVgqQwWrc42kV/SKZyW9I9e5XtIeHWYZ+O3wg+Hp1+EBsb6Qwe8Pdxiepwz8nKQ3hNqjxlIFKoQq4TTJwK/GM0KVcFrOKT7+EwVOGfg1Gg9QqBJOyznFB7TINcnAr1EakAakAWlAGpAGpAEbD6ix6YXEKf6RJzRabvh4hVAlnCYZ+O3QS7qB3zcyxOpwD79/WK24lA5lqHGLYy1eNI6LZSV9aH6OflGgwyyDWLkkq/Gnja4r14p3DTYtDTgAOcJuIXL51iEAAAAASUVORK5CYII=",mode:""})):(n(),t(A,{key:1,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABOklEQVR4nO3W3VHCQBiF4bMdWAJWoCVgB9jBpgOtwO1ArECsQOggVGBKsISkA9/PECcjMRvyYy7gnXmGyz0bmAxOM3cZ0HXAFZ6xlJRjjTcMzqFLH7hFvVRSgk8NyCHWCu9oKkeQ9IJedRkQJD2hrVQ9n4ZDrKD4AKvX0xhzQFUq6R42KNoUAyw7PMEWrTnECjp9QJUNSJCjMYdYQf0HWHZ4gi2OcogVNGxAlQ1IkOMnh1hB4wyw7PA7ZPjOIVbQeAOsHNewz1kGWI9Y4zwHFFhopq/ADl9qph/hDl6Hm1f9x4ACXuV74KipB+zg9evW9aYaUMDrj1vXm2LADl4tt6435oACD9johMYasIfXRH/JvKRXNGW3Djq81frUZYCV4Qb19vDqcet6Dl1aqLzpChk2Kg3OYdYuA74AbO1MIRqlzHoAAAAASUVORK5CYII=",mode:""}))])),_:1}),g(A,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAASlJREFUWEfl1zFuwkAQheF/Re6Xg1BEkdKkhSKdlSgcgIIDpLS4gW+Qip6USYVks8GApZVZofXODC5wY8nNfB7r7Ywd5+sBCmBdQ9k9u8XddUUm8OXg0UPZwBTYjAJoi3rYOShqeAP+LCEXHQiLedgCrw0sTy796yogKFfV8ARU2oRUQPv6bQdWDbwAP1qQZEBX0MOvh9keFofPs5NCBgMCyMbBVBrbbEAAEcVWDJDGVgUQdGNwbFUBObG1AiTH1gwQie0HUPdjaw4ICn4Dz/3Y3hJwtPSn7f0APERPTvMOnGfHfA+fsdlhBkidnlaA5P1BFZCzQakAJDukGCDdoiWA6Mk2dEMaDAhi9R47280AqbGyAiTHShWQEysVgCRWYoA0VtmAsX7P/wFH1Koh1mLIIgAAAABJRU5ErkJggg==",mode:""})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-95ee3cbf"]]);export{y as default};
