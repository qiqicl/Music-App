import{r as a,k as l,c as s,w as e,j as u,m as t,n as d,i as o,q as c,o as n,a as i,B as r,b as v,t as _,d as f,e as p,F as m,f as g,p as k}from"./index-Bpi0htza.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x=y({__name:"mine",setup(y){const x=a([]),$=a([]),w=a([]),z=a(decodeURIComponent(l("key"))),C=()=>new Promise(((a,l)=>{a(t({url:`https://zyxcl.xyz/music/api/login/status?cookie=${z.value}`}))}));(async()=>{var a,l,s,e;await u(),x.value=await C(),t({url:`https://zyxcl.xyz/music/api/user/detail?uid=${null==(l=null==(a=x.value.data)?void 0:a.data.account)?void 0:l.id}&cookie=${z.value}`,success:a=>{$.value=a.data}}),t({url:`https://zyxcl.xyz/music/api/user/playlist?uid=${null==(e=null==(s=x.value.data)?void 0:s.data.account)?void 0:e.id}&cookie=${z.value}`,success:a=>{console.log(a.data),w.value=a.data}})})();const h=()=>{d({url:"/pages/login/login"})},I=a((a=>{console.log(a),d({url:`/pages/songlist/songlist?id=${a}`})}));return(a,l)=>{const u=g,t=o,d=k,y=c;return z.value?(n(),s(t,{key:0,class:"mine"},{default:e((()=>[i(t,{class:"header"},{default:e((()=>{var a;return[i(t,{class:"user",style:r({backgroundImage:`url(${null==(a=$.value.profile)?void 0:a.backgroundUrl})`})},{default:e((()=>{var a,l;return[i(u,{src:null==(l=null==(a=x.value)?void 0:a.data)?void 0:l.data.profile.avatarUrl,mode:""},null,8,["src"]),i(t,{class:"nickname"},{default:e((()=>{var a,l;return[v(_(null==(l=null==(a=x.value)?void 0:a.data)?void 0:l.data.profile.nickname),1)]})),_:1}),i(t,{class:"desc"},{default:e((()=>[i(t,{class:"desc_tag"},{default:e((()=>[i(d,null,{default:e((()=>{var a;return[v(_(null==(a=$.value.profile)?void 0:a.follows),1)]})),_:1}),v("关注")])),_:1}),i(t,{class:"desc_tag"},{default:e((()=>[i(d,null,{default:e((()=>{var a;return[v(_(null==(a=$.value.profile)?void 0:a.followeds),1)]})),_:1}),v("粉丝")])),_:1}),i(t,{class:"desc_tag"},{default:e((()=>[i(d,null,{default:e((()=>[v("LV"+_($.value.level),1)])),_:1}),v("等级")])),_:1}),i(t,{class:"desc_tag"},{default:e((()=>[i(d,null,{default:e((()=>[v(_($.value.listenSongs),1)])),_:1}),v("听歌")])),_:1})])),_:1})]})),_:1},8,["style"])]})),_:1}),i(t,{class:"main"},{default:e((()=>[i(t,{class:"lists"},{default:e((()=>[(n(!0),f(m,null,p(w.value.playlist,(a=>(n(),s(t,{class:"list",onClick:l=>I.value(a.id)},{default:e((()=>[i(t,{class:"pic"},{default:e((()=>[i(u,{src:a.coverImgUrl,mode:""},null,8,["src"])])),_:2},1024),i(t,{class:"list_item"},{default:e((()=>[i(d,{class:"listName"},{default:e((()=>[v(_(a.name),1)])),_:2},1024),i(d,{class:"rec"},{default:e((()=>[v(_(a.trackCount)+" 首 "+_(a.playCount)+" 次播放",1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1})])),_:1})):(n(),s(y,{key:1,onClick:h},{default:e((()=>[v("去登录")])),_:1}))}}},[["__scopeId","data-v-d74d9291"]]);export{x as default};
